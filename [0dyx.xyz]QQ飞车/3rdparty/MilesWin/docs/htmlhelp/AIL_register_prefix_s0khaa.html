<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>AIL_register_prefix_callback</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="registers an application function to be called whenever an XMIDI Callback Prefix controller (108) is encountered in a playing XMIDI sequence.">
<meta name="ms-hkwd" content="AIL_register_prefix_callback">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.6h</a></i>
</td>
</tr>
</table>
<h1>AIL_register_prefix_callback</h1>
<p>The function  <b>AIL_register_prefix_callback</b> registers an application function to be called whenever an XMIDI Callback Prefix controller (108) is encountered in a playing XMIDI sequence.</p>
<table width=100% cellspacing=0 class=pre>
<tr class=pre>
<td class=pre>
<pre><b><a href="AILPREFIXCB.html" class=trn>AILPREFIXCB</a> <a href="AIL_register_prefix_s0khaa.html" class=trn>AIL_register_prefix_callback</a>(</b>
<b>&nbsp;&nbsp;<a href="HSEQUENCE.html" class=trn>HSEQUENCE</a>&nbsp;</b><i>S</i><b>,</b>
<b>&nbsp;&nbsp;<a href="AILPREFIXCB.html" class=trn>AILPREFIXCB</a>&nbsp;</b><i>callback</i>
<b>);</b></pre>
</td>
</tr>
</table>
<h4>In Parameters</h4>
<dl>
<dt><i>S</i></dt>
<dd>indicates the sequence with which the Callback Prefix function is to be associated.</dd>
<dt><i>callback</i></dt>
<dd>should be set to the address of an application function which is prototyped as follows: </p><p> S32 AILCALLBACK foo(HSEQUENCE sequence, S32 channel, S32 value) </p><p> where sequence and channel will indicate the sequence handle and logical channel number in which the XMIDI Callback Prefix controller appeared; and value will receive the Callback Prefix controller's value as it appeared in the XMIDI sequence. The callback function should return a value from 0 to 127, which is used instead of the value for the next MIDI or XMIDI controller event which occurs in the same sequence and MIDI channel.</dd>
</dl>
<h4>Returns</h4>
<p>The address of the previously-installed Callback Prefix function handler.</p>
<h4>Discussion</h4>
<p>The XMIDI Callback Prefix controller can help implement an almost infinite variety of interactive MIDI music effects. Its use is similar to the XMIDI Indirect Controller Prefix controller (115). However, instead of overriding the value of the next MIDI/XMIDI controller with an entry from the Indirect Controller Array table, the Callback Prefix controller invokes a user callback function, passing its own sequence, channel number, and controller value to the application. The callback function may take any action permitted to interrupt-based callback function handlers, including calling most XMIDI API functions. The user function's return value replaces the value of the next MIDI/XMIDI controller event occurring in its channel. </p><p> It is possible to use the value returned from the Callback Prefix function to override the values of XMIDI controllers such as Sequence Branch (109) or For...Next/Break (116/117). More conventional MIDI controllers such as Part Volume (7), Panpot (10), or Reverb (91) can also be altered interactively. </p><p> Most MSS functions can be safely invoked from within callback functions. Exceptions include driver-installation or driver-shutdown functions and any other functions which may perform DOS or BIOS calls, such as <a href="AIL_init_sequence.html">AIL_init_sequence</a>. These exceptions are noted in the descriptions of the functions involved. If in doubt about whether a particular action may safely be performed from within a timer callback function, contact RAD Game Tools for assistance.</p>
<p>
<br>
<b>Group:</b>
<a href="XMIDI Services.html">XMIDI Services</a><br>
<b>Related Sections:</b>
<a href="XMIDI Callback Prefiqrbaaa.html">XMIDI Callback Prefix (108)</a><br>
<b>Related Functions:</b>
<a href="AILPREFIXCB.html">AILPREFIXCB</a>, <a href="AIL_init_sequence.html">AIL_init_sequence</a>, <a href="AIL_register_beat_casg9aaa.html">AIL_register_beat_callback</a>, <a href="AIL_register_event_cs0khaa.html">AIL_register_event_callback</a>, <a href="AIL_register_sequenc8chzca.html">AIL_register_sequence_callback</a>, <a href="AIL_register_timbre_s0khaa.html">AIL_register_timbre_callback</a>, <a href="AIL_register_trigger8chzca.html">AIL_register_trigger_callback</a><br>
<b>Related Basic Types:</b>
<a href="HSEQUENCE.html">HSEQUENCE</a><br>
<b>Related FAQs:</b>
<a href="What's the deal with4bihxb.html">What's the deal with callbacks - are they threads, interrupts, system timers, or what?</a></p>
<p align=center>
<a href="mailto:Miles3@radgametools.com">For technical support, e-mail Miles3@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.6h">&#169; Copyright 1991-2004 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
