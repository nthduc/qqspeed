<!-- This page was created with the RAD auto-doc generator. -->
<!doctype html public "-//w3c//dtd html 3.2 final//en">
<html>
<head>
<title>AIL_install_timbre</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="ms.locale" content="en-us">
<meta name="description" content="forces the driver to install a single timbre (synthesizer instrument), allowing it to be used for performance in a channel of an Extended MIDI (XMIDI) sequence which contains an XMIDI Patch Bank Select controller (114) with the value bank followed by a MIDI Program Change (Patch) message with the value patch.">
<meta name="ms-hkwd" content="AIL_install_timbre">
<link rel="stylesheet" title="default" href="reference.css" type="text/css" media="screen">
</head>
<body topmargin="0">
<table cellspacing=0 cellpadding=0 class=bar width=100% height=25>
<tr class=bar>
<td class=bar>
<i>&nbsp;<a href="index.html" class=trn>Miles Sound System SDK 6.6h</a></i>
</td>
</tr>
</table>
<h1>AIL_install_timbre</h1>
<p>The function  <b>AIL_install_timbre</b> forces the driver to install a single timbre (synthesizer instrument), allowing it to be used for performance in a channel of an Extended MIDI (XMIDI) sequence which contains an XMIDI Patch Bank Select controller (114) with the value bank followed by a MIDI Program Change (Patch) message with the value patch.</p>
<table width=100% cellspacing=0 class=pre>
<tr class=pre>
<td class=pre>
<pre><b><a href="S32.html" class=trn>S32</a> <a href="AIL_install_timbre.html" class=trn>AIL_install_timbre</a>(</b>
<b>&nbsp;&nbsp;<a href="HMDIDRIVER.html" class=trn>HMDIDRIVER</a>&nbsp;</b><i>mdi</i><b>,</b>
<b>&nbsp;&nbsp;<a href="S32.html" class=trn>S32</a>&nbsp;</b><i>bank</i><b>,</b>
<b>&nbsp;&nbsp;<a href="S32.html" class=trn>S32</a>&nbsp;</b><i>patch</i>
<b>);</b></pre>
</td>
</tr>
</table>
<h4>In Parameters</h4>
<dl>
<dt><i>mdi</i></dt>
<dd>indicates the driver for whose device the timbre is to be installed.</dd>
<dt><i>bank</i></dt>
<dd>specifies the XMIDI Patch Bank Select (controller 114) value associated with the desired timbre.</dd>
<dt><i>patch</i></dt>
<dd>specifies the MIDI Program Change value associated with the desired timbre.</dd>
</dl>
<h4>Returns</h4>
<p>0 if the specified timbre was not found in the library or could not be installed; otherwise, 1.</p>
<h4>Discussion</h4>
<p>This function causes the driver to search its Global Timbre Library (GTL) file or a proprietary instrument file for the desired timbre, and load it into the synthesizer's memory or a local timbre cache if it is not already installed. </p><p> By default, MSS 2.X-compatible Global Timbre Library files are loaded by the driver from the current working directory at the time <a href="AIL_init_sequence.html">AIL_init_sequence</a> or <a href="AIL_install_timbre.html">AIL_install_timbre</a> is called. If this is undesirable, the <a href="AIL_set_redist_directory.html">AIL_set_redist_directory</a> function may be used to specify a DOS directory path to be used as part of the timbre filename prefix string. </p><p> Assuming a timbre in a given bank has been uploaded through the use of this function, subsequent MIDI Program Change messages for the specified patch will "call up" the timbre which was installed for the patch number patch and current XMIDI Patch Bank Select controller (114) bank. </p><p> Synthesizers with built-in (ROM) General MIDI instruments, such as the Roland Sound Canvas, will select their built-in timbre for the specified patch when attempting to install an external timbre in bank 0. This is because the 128 possible timbres in bank 0 are always mapped directly to the synthesizer's built-in instrument timbres, and cannot be externally installed. Bank 127 is unusable by the Roland driver for a similar reason; this bank is used only on the Ad Lib and other synthesizers to map rhythm key numbers to custom timbre "patches." </p><p> Most application programs will not need to call <a href="AIL_install_timbre.html">AIL_install_timbre</a>. </p><p> Under DOS, this function must not be invoked from an interrupt-based callback function. </p><p> The current version of the Windows and MacOS system does not support custom MIDI instruments. The default MIDI instrument set used by the selected midiOut driver will be used instead.</p>
<p>
<br>
<b>Group:</b>
<a href="XMIDI Services.html">XMIDI Services</a><br>
<b>Related Sections:</b>
<a href="DDK Function- 503H Irtaihq.html">DDK Function: 503H Install Timbre Set</a><br>
<b>Related Functions:</b>
<a href="AIL_init_sequence.html">AIL_init_sequence</a>, <a href="AIL_install_timbre.html">AIL_install_timbre</a>, <a href="AIL_protect_timbre.html">AIL_protect_timbre</a>, <a href="AIL_set_GTL_filenamelxjjaa.html">AIL_set_GTL_filename_prefix</a>, <a href="AIL_set_redist_directory.html">AIL_set_redist_directory</a>, <a href="AIL_timbre_status.html">AIL_timbre_status</a>, <a href="AIL_unprotect_timbre.html">AIL_unprotect_timbre</a><br>
<b>Related Basic Types:</b>
<a href="HMDIDRIVER.html">HMDIDRIVER</a>, <a href="S32.html">S32</a></p>
<p align=center>
<a href="mailto:Miles3@radgametools.com">For technical support, e-mail Miles3@radgametools.com</a>
<br>
<a href="http://www.radgametools.com/miles.htm?from=help6.6h">&#169; Copyright 1991-2004 RAD Game Tools, Inc. All Rights Reserved.</a>
</p>
<br>
</body>
</html>
